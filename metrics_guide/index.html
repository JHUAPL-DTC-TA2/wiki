
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://JHUAPL-DTC-TA2.github.io/wiki/metrics_guide/">
      
      
        <link rel="prev" href="../sagemaker_instances/">
      
      
        <link rel="next" href="../submission_process/">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.14">
    
    
      
        <title>Metrics Guide - DTC-Wiki</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.342714a4.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Bitter:300,300i,400,400i,700,700i%7CInconsolata:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Bitter";--md-code-font:"Inconsolata"}</style>
      
    
    
      <link rel="stylesheet" href="../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../stylesheets/extra.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="blue-grey" data-md-color-accent="deep-orange">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#metrics-guide" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="DTC-Wiki" class="md-header__button md-logo" aria-label="DTC-Wiki" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            DTC-Wiki
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Metrics Guide
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Share" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/JHUAPL-DTC-TA2/wiki" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    JHUAPL-DTC-TA2/wiki
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



  

<nav class="md-nav md-nav--primary md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="DTC-Wiki" class="md-nav__button md-logo" aria-label="DTC-Wiki" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    DTC-Wiki
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/JHUAPL-DTC-TA2/wiki" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    JHUAPL-DTC-TA2/wiki
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    User Guide
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../common_issues/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Common Issues
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../configure_codecommit/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    CodeCommit Guide
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../running_client_shell/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Client-Shell Client
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../workspace-selfservice/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Workspace Management
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../importing_data/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Importing Data to AWS
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../creating_custom_images/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Custom Images
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../sagemaker_instances/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Available Instances
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Metrics Guide
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Metrics Guide
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#ground-truth-csv" class="md-nav__link">
    <span class="md-ellipsis">
      Ground Truth CSV
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#response-json" class="md-nav__link">
    <span class="md-ellipsis">
      Response JSON
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#metrics-json" class="md-nav__link">
    <span class="md-ellipsis">
      Metrics JSON
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#detailed-metrics-csv" class="md-nav__link">
    <span class="md-ellipsis">
      Detailed Metrics CSV
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#threshold-metrics-csv" class="md-nav__link">
    <span class="md-ellipsis">
      Threshold Metrics CSV
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../submission_process/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Submission Process
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../cobalt/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Getting Started with BluelightAI Cobalt
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="metrics-guide">Metrics Guide</h1>
<p>The metrics scripts included in the <code>client-shell</code> output the following files:</p>
<ul>
<li>
<p><a href="#ground-truth-csv">Ground Truth CSV</a></p>
</li>
<li>
<p><a href="#response-json">Response JSON</a></p>
</li>
<li>
<p><a href="#metrics-json">Metrics JSON</a></p>
</li>
<li>
<p><a href="#detailed-metrics-csv">Detailed Metrics CSV</a></p>
</li>
<li>
<p><a href="#threshold-metrics-csv">Threshold Metrics CSV</a></p>
</li>
</ul>
<h2 id="ground-truth-csv">Ground Truth CSV</h2>
<p>The ground truth CSV contains the relevant ground truth LSIs for each segment of patient data. It uses the following file name convention:
<code>&lt;PHASE&gt;_&lt;EVENT&gt;_gt_&lt;DATE&gt;.csv</code>.</p>
<p>The ground truth CSV has the following fields, indicated by a header row in the first line.</p>
<p><strong>Table 1: Ground Truth CSV Fields</strong></p>
<table>
<thead>
<tr>
<th>Field</th>
<th>Definition</th>
</tr>
</thead>
<tbody>
<tr>
<td>studyid</td>
<td>Case identifier.</td>
</tr>
<tr>
<td>source</td>
<td>Case dataset source: <code>umb</code> or <code>upitt</code>.</td>
</tr>
<tr>
<td>segment_num</td>
<td>Segment index within the case.</td>
</tr>
<tr>
<td>segment_start_time</td>
<td>Start time in seconds for the segment, relative to start of case.</td>
</tr>
<tr>
<td>segment_end_time</td>
<td>Stop time in seconds for the segment, relative to start of case.</td>
</tr>
<tr>
<td>lsi_group</td>
<td>The LSI category.</td>
</tr>
<tr>
<td>max_lsi_time</td>
<td>Time of last LSI for given LSI group, relative to start of case.</td>
</tr>
<tr>
<td>gt</td>
<td>1 if the LSI occurred during the segment's prediction window, 0 otherwise.</td>
</tr>
<tr>
<td>time_since_adm_sec</td>
<td>Time elapsed from hospital admission to <code>segment_stop_time</code></td>
</tr>
</tbody>
</table>
<h2 id="response-json">Response JSON</h2>
<p>The response JSON contains the client model’s prediction responses for each segment of patient data, along with timestamps for when prediction message was sent and received by the evaluation server. It uses the following file name convention:
<code>&lt;PHASE&gt;_&lt;EVENT&gt;_responses_&lt;TEAM&gt;-&lt;RUNTYPE&gt;_&lt;DATE&gt;.json</code>.</p>
<p>The response JSON has the following format:
<div class="highlight"><pre><span></span><code>{
    &quot;team_name&quot;: &lt;string&gt;,
    &quot;event&quot;: &lt;string&gt;,
    &quot;evaluation_date&quot;: &lt;date&gt;,
    &quot;responses&quot;: [
        {
            &quot;message_sent_time&quot;: &lt;double&gt;,
            &quot;message_received_time&quot;: &lt;double&gt;,
            &quot;case_id&quot;: &lt;string&gt;,
            &quot;studyid&quot;: &lt;string&gt;,
            &quot;segment_num&quot;: &lt;double&gt;,
            &quot;segment_id&quot;: &lt;string&gt;,
            &quot;model_predictions&quot;: &lt;dict&gt;,
            &quot;cumulative_runtime_sec&quot;: &lt;double&gt;,
            &quot;run_id&quot;: &lt;GUID&gt;,
            &quot;end_of_case&quot;: &lt;bool&gt;,
            &quot;raw_response&quot;: [&lt;string&gt;, &lt;string&gt;, ...],
            &quot;error&quot;: &lt;string&gt;,
            &quot;embeddings&quot;: &lt;dict&gt;
        },
        ...
    ]
}
</code></pre></div>
<strong>Table 2: Response JSON Fields</strong></p>
<table>
<thead>
<tr>
<th>Field</th>
<th>Definition</th>
</tr>
</thead>
<tbody>
<tr>
<td>team_name</td>
<td>Team name.</td>
</tr>
<tr>
<td>event</td>
<td>Event name.</td>
</tr>
<tr>
<td>evaluation_date</td>
<td>Date of evaluation run.</td>
</tr>
<tr>
<td>responses</td>
<td>List of responses for all segments.</td>
</tr>
<tr>
<td>message_sent_time</td>
<td>UNIX timestamp in seconds when the server’s prediction message was sent to the client for the segment.</td>
</tr>
<tr>
<td>message_received_time</td>
<td>UNIX timestamp in seconds when the client’s prediction message was received by the server for the segment.</td>
</tr>
<tr>
<td>case_id</td>
<td>Unique case id.</td>
</tr>
<tr>
<td>studyid</td>
<td>Case identifier.</td>
</tr>
<tr>
<td>segment_num</td>
<td>Segment index within the case.</td>
</tr>
<tr>
<td>segment_id</td>
<td>Unique <code>segment id.</code> See inventory.csv file for ordering.</td>
</tr>
<tr>
<td>model_predictions</td>
<td>Dictionary containing LSI confidence scores for each LSI group received from the client.</td>
</tr>
<tr>
<td>cumulative_runtime_sec</td>
<td>Cumulative runtime over the entire evaluation in seconds for the segment.</td>
</tr>
<tr>
<td>run_id</td>
<td>GUID for the evaluation run for the segment.</td>
</tr>
<tr>
<td>end_of_case</td>
<td>Boolean value indicating whether the segment is the last segment of the case.</td>
</tr>
<tr>
<td>raw_response</td>
<td>If error present, original client response for the segment.</td>
</tr>
<tr>
<td>error</td>
<td>Error message from the server, if present.</td>
</tr>
<tr>
<td>embeddings</td>
<td>Optional dictionary containing  embeddings at different levels of internal data analysis.</td>
</tr>
</tbody>
</table>
<h2 id="metrics-json">Metrics JSON</h2>
<p>The metrics JSON contains the client model performance metrics calculated for each case: the Mean Squared Correct (MSC). It uses the following file name convention:
<code>&lt;PHASE&gt;_&lt;EVENT&gt;_metrics_&lt;TEAM&gt;-&lt;RUNTYPE&gt;_&lt;DATE&gt;.json</code>.</p>
<p>The metrics JSON has the following format:
<div class="highlight"><pre><span></span><code>{
    &quot;team_name&quot;: &lt;string&gt;,
    &quot;run_type&quot;: &lt;string&gt;,
    &quot;event&quot;: &lt;string&gt;,
    &quot;evaluation_date&quot;: &lt;date&gt;,
    &quot;response_file_name&quot;: &lt;string&gt;,
    &quot;event_normalized_msc&quot;: &lt;double&gt;,
    &quot;run_normalized_msc&quot;: &lt;double&gt;,
    &quot;avg_specificity_sensitivity_benchmark&quot;: {
        &quot;benchmark&quot;: &lt;dict&gt;,
        &quot;surpassed&quot;: &lt;bool&gt;
    },
    &quot;segment_weights&quot;: &lt;dict&gt;,
    &quot;sensitivity_specificity_by_LSI&quot;: [
        {
            &quot;lsi_group&quot;: &lt;string&gt;,
            &quot;threshold&quot;: &lt;double&gt;,
            &quot;sensitivity&quot;: &lt;double&gt;,
            &quot;specificity&quot;: &lt;double&gt;,
            &quot;balanced_accuracy&quot;: &lt;double&gt;
        },
        ...
    ],
    &quot;metrics_by_case&quot;: [
        {
            &quot;studyid&quot;: &lt;string&gt;,
            &quot;case_normalized_msc&quot;: &lt;double&gt;,
            &quot;runtime&quot;: &lt;double&gt;,
            &quot;source&quot;: &lt;string&gt;
            &quot;errors&quot;: [
                {
                    &quot;segment_id&quot;: &lt;string&gt;,
                    &quot;error&quot;: &lt;string&gt;
                },
                ...
            ]
        },
        ...
    ]
}
</code></pre></div></p>
<p><strong>Table 3: Metrics JSON Fields</strong></p>
<table>
<thead>
<tr>
<th>Field</th>
<th>Definition</th>
</tr>
</thead>
<tbody>
<tr>
<td>team_name</td>
<td>Team name.</td>
</tr>
<tr>
<td>run_type</td>
<td>Run type: <code>B</code> for Basic EHR, <code>E</code> for Expanded EHR, <code>V</code> for Vitals Only.</td>
</tr>
<tr>
<td>event</td>
<td>Event name.</td>
</tr>
<tr>
<td>evaluation_date</td>
<td>Date of evaluation run.</td>
</tr>
<tr>
<td>response_file_name</td>
<td>Response JSON used to generate this Metrics JSON.</td>
</tr>
<tr>
<td>event_normalized_msc</td>
<td>Normalized MSC for entire evaluation.</td>
</tr>
<tr>
<td>run_normalized_msc</td>
<td>Normalized MSC for single run.</td>
</tr>
<tr>
<td>avg_specificity_sensitivity_benchmark</td>
<td>Benchmark criteria and passing result.</td>
</tr>
<tr>
<td>benchmark</td>
<td>Dictionary of LSI group and minimum avg sensitivity/specificity score.</td>
</tr>
<tr>
<td>surpassed</td>
<td>True if run passed all LSI benchmarks, False otherwise.</td>
</tr>
<tr>
<td>segment_weights</td>
<td>Dictionary of weights by source, LSI group, and ground truth value.</td>
</tr>
<tr>
<td>sensitivity_specificity_by_LSI</td>
<td>List of specificty and sensitivity with highest balanced accuracy per LSI group.</td>
</tr>
<tr>
<td>lsi_group</td>
<td>The LSI category.</td>
</tr>
<tr>
<td>threshold</td>
<td>Threshold for max balanced accuracy.</td>
</tr>
<tr>
<td>sensitivity</td>
<td>Sensitivity at threshold.</td>
</tr>
<tr>
<td>specificity</td>
<td>Specificity at threshold.</td>
</tr>
<tr>
<td>balanced_accuracy</td>
<td>Average of specificity and sensitivity.</td>
</tr>
<tr>
<td>metrics_by_case</td>
<td>List of metrics calculated for each case.</td>
</tr>
<tr>
<td>studyid</td>
<td>Case identifier.</td>
</tr>
<tr>
<td>case_normalized_msc</td>
<td>Normalized MSC calculated for case.</td>
</tr>
<tr>
<td>runtime</td>
<td>Cumulative runtime in seconds at the end of the case.</td>
</tr>
<tr>
<td>errors</td>
<td>Errors found by the server during the case.</td>
</tr>
<tr>
<td>segment_id</td>
<td>Segment id where error occurred.</td>
</tr>
<tr>
<td>error</td>
<td>Error message from the server.</td>
</tr>
</tbody>
</table>
<h2 id="detailed-metrics-csv">Detailed Metrics CSV</h2>
<p>The detailed metrics CSV contains the client model performance metrics calculated for each segment and LSI group. It uses the following file name convention:
<code>&lt;PHASE&gt;_&lt;EVENT&gt;_detailed-metrics_&lt;TEAM&gt;-&lt;RUNTYPE&gt;_&lt;DATE&gt;.csv</code>.</p>
<p><strong>Table 4: Detailed Metrics CSV Fields</strong></p>
<table>
<thead>
<tr>
<th>Field</th>
<th>Definition</th>
</tr>
</thead>
<tbody>
<tr>
<td>studyid</td>
<td>Case identifier.</td>
</tr>
<tr>
<td>source</td>
<td>Case dataset source: <code>umb</code> or <code>upitt</code>.</td>
</tr>
<tr>
<td>segment_num</td>
<td>Segment index within the case.</td>
</tr>
<tr>
<td>segment_start_time</td>
<td>Start time in seconds for the segment, relative to start of case.</td>
</tr>
<tr>
<td>segment_end_time</td>
<td>Stop time in seconds for the segment, relative to start of case.</td>
</tr>
<tr>
<td>lsi_group</td>
<td>The LSI category.</td>
</tr>
<tr>
<td>max_lsi_time</td>
<td>Time of last LSI for given LSI group, relative to start of case.</td>
</tr>
<tr>
<td>gt</td>
<td>1 if the LSI occurrs within the segment's prediction window, 0 otherwise.</td>
</tr>
<tr>
<td>time_since_adm_sec</td>
<td>Time elapsed from hospital admission to <code>segment_stop_time</code></td>
</tr>
<tr>
<td>ignore_segment</td>
<td>0 if segment prediction contributes to MSC, 1 if ignored due to minimum prediction horizon or minimum lead time.</td>
</tr>
<tr>
<td>segment_weight</td>
<td>Unnormalized weight based on inverse frequency of segments with same source and LSI ground truth, 0 if this prediction is within minimum lead time or outside of prediction horizon.</td>
</tr>
<tr>
<td>case_normalized_segment_weight</td>
<td><code>segment_weight</code> divided by sum of <code>segment_weight</code>s over case.</td>
</tr>
<tr>
<td>run_normalized_segment_weight</td>
<td><code>segment_weight</code> divided by sum of <code>segment_weight</code>s over run.</td>
</tr>
<tr>
<td>event_normalized_segment_weight</td>
<td><code>run_normalized_segment_weight</code> multiplied by run weight.</td>
</tr>
<tr>
<td>model_prediction</td>
<td>LSI confidence score for segment.</td>
</tr>
<tr>
<td>cumulative_runtime_sec</td>
<td>Cumulative runtime in seconds at the end of the segment.</td>
</tr>
<tr>
<td>error</td>
<td>Errors found by the server during the segment.</td>
</tr>
<tr>
<td>unweighted_msc</td>
<td>Raw Mean Squared Correct (MSC) value for segment and LSI group.</td>
</tr>
<tr>
<td>case_normalized_msc</td>
<td><code>unweighted_msc</code> *  <code>case_normalized_segment_weight</code></td>
</tr>
<tr>
<td>run_normalized_msc</td>
<td><code>unweighted_msc</code> *  <code>run_normalized_segment_weight</code></td>
</tr>
<tr>
<td>event_normalized_msc</td>
<td><code>unweighted_msc</code> *  <code>event_normalized_segment_weight</code></td>
</tr>
</tbody>
</table>
<h2 id="threshold-metrics-csv">Threshold Metrics CSV</h2>
<p>The threshold metrics CSV contains the client model binary classification metrics calculated at different thresholds for each LSI group. It uses the following file name convention:
<code>&lt;PHASE&gt;_&lt;EVENT&gt;_threshold-metrics_&lt;TEAM&gt;-&lt;RUNTYPE&gt;_&lt;DATE&gt;.csv</code>.</p>
<p><strong>Table 4: Threshold Metrics CSV Fields</strong></p>
<table>
<thead>
<tr>
<th>Field</th>
<th>Definition</th>
</tr>
</thead>
<tbody>
<tr>
<td>lsi_group</td>
<td>The LSI category.</td>
</tr>
<tr>
<td>threshold</td>
<td>Cut-off value to classify a prediction as positive or negative</td>
</tr>
<tr>
<td>sensitivity</td>
<td>True positive rate; proportion of actual positives correctly identified</td>
</tr>
<tr>
<td>specificity</td>
<td>True negative rate; proportion of actual negatives correctly identified</td>
</tr>
<tr>
<td>PPV</td>
<td>Positive Predictive Value; proportion of predicted positives that are correct</td>
</tr>
<tr>
<td>NPV</td>
<td>Negative Predictive Value; proportion of predicted negatives that are correct</td>
</tr>
<tr>
<td>TP</td>
<td>True Positives; segments correctly predicted as positive</td>
</tr>
<tr>
<td>TN</td>
<td>True Negatives; segments correctly predicted as negative</td>
</tr>
<tr>
<td>FP</td>
<td>False Positives; segments incorrectly predicted as positive</td>
</tr>
<tr>
<td>FN</td>
<td>False Negatives; segments incorrectly predicted as negative</td>
</tr>
<tr>
<td>balanced_accuracy</td>
<td>Average of sensitivity and specificity</td>
</tr>
<tr>
<td>F1</td>
<td>Harmonic mean of precision (PPV) and sensitivity</td>
</tr>
</tbody>
</table>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../sagemaker_instances/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Available Instances">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                Available Instances
              </div>
            </div>
          </a>
        
        
          
          <a href="../submission_process/" class="md-footer__link md-footer__link--next" aria-label="Next: Submission Process">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                Submission Process
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2025 The Johns Hopkins University Applied Physics Laboratory LLC
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "..", "features": ["navigation.indexes", "navigation.instant", "navigation.footer", "navigation.prune", "navigation.sections", "toc.follow", "toc.integrate", "navigation.top", "search.suggest", "search.highlight", "search.share", "content.code.copy"], "search": "../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.13a4f30d.min.js"></script>
      
    
  </body>
</html>